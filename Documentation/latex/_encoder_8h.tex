\hypertarget{_encoder_8h}{}\section{C\+:/\+Users/\+Ben/\+Documents/\+Git\+Hub/2\+R-\/\+Robots/\+Code/\+Tiva/\+Encoder.h File Reference}
\label{_encoder_8h}\index{C\+:/\+Users/\+Ben/\+Documents/\+Git\+Hub/2\+R-\/\+Robots/\+Code/\+Tiva/\+Encoder.\+h@{C\+:/\+Users/\+Ben/\+Documents/\+Git\+Hub/2\+R-\/\+Robots/\+Code/\+Tiva/\+Encoder.\+h}}


Encoder header.  


{\ttfamily \#include \char`\"{}includes.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}System.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_encoder_8h_ac31d94de099e13aa63766f6efe386aba}{encoder\+S\+P\+I\+Init}} (void)
\begin{DoxyCompactList}\small\item\em Initializes the S\+PI channels for the motor drivers, encoders, and R\+AM. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_encoder_8h_aa027163ba1e9951d437f3f4e260fd9bb}{encoder\+Read}} (void)
\begin{DoxyCompactList}\small\item\em Updates value in sensor array. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_encoder_8h_a7b6b3e45ebeda6eaf3c33f3f382c75d9}{zero\+Motor1\+Raw\+Relative}} (void)
\begin{DoxyCompactList}\small\item\em Reads value of motor 1 encoders and sets the relative angle to zero. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_encoder_8h_a045a541e3983985681e94f5658dff5e4}{zero\+Motor2\+Raw\+Relative}} (void)
\begin{DoxyCompactList}\small\item\em Reads value of motor 2 encoders and sets the relative angle to zero. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{_encoder_8h_a3158f6a637c9f6e10084501a81431581}{read\+Motor1\+Angle}} (void)
\begin{DoxyCompactList}\small\item\em Reads value in encoder\+Val array for motor 1 and converts it to an angle. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{_encoder_8h_acf5c46f542d35b78a92a1cefac802888}{read\+Motor2\+Angle}} (void)
\begin{DoxyCompactList}\small\item\em Reads value in encoder\+Val array for motor 2 and converts it to an angle. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_encoder_8h_a41631dbb83071f47c7e30a38b05f269c}{read\+Motor1\+Raw}} (void)
\begin{DoxyCompactList}\small\item\em Reads value in encoder\+Val array for motor 1. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_encoder_8h_ad2f5f86641346f94615d9962f214438a}{read\+Motor2\+Raw}} (void)
\begin{DoxyCompactList}\small\item\em Reads value in encoder\+Val array for motor 2. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_encoder_8h_a6c979bc3fe5ea8aff136af160338640f}{read\+Motor1\+Raw\+Relative}} (void)
\begin{DoxyCompactList}\small\item\em Reads value in encoder\+Val array for motor 1 and keeps track of multiturn counts. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_encoder_8h_a64bdccf53dabc69d335d5e7d53e5b31a}{read\+Motor2\+Raw\+Relative}} (void)
\begin{DoxyCompactList}\small\item\em Reads value in encoder\+Val array for motor 2 and keeps track of multiturn counts. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{_encoder_8h_adadde057f0a039eba73600bd55a68048}{read\+Motor1\+Angle\+Relative}} (void)
\begin{DoxyCompactList}\small\item\em Reads value in encoder\+Val array for motor 1 and keeps track of multiturn angles. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{_encoder_8h_a8277b1c9a143a978685671b1a0c7f90d}{read\+Motor2\+Angle\+Relative}} (void)
\begin{DoxyCompactList}\small\item\em Reads value in encoder\+Val array for motor 2 and keeps track of multiturn angles. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{_encoder_8h_a6391115b4eaa017554396e9c0bd81ac4}{read\+Motor2\+Speed}} (void)
\begin{DoxyCompactList}\small\item\em Reads the motor 1\textquotesingle{}s speed in terms of revolutions/sec from the encoder. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{_encoder_8h_a32d76f5feb48e875eddaa9c1dbd19276}{read\+Motor1\+Speed}} (void)
\begin{DoxyCompactList}\small\item\em Reads the motor 2\textquotesingle{}s speed in terms of revolutions/sec from the encoder. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_encoder_8h_a9e427f3b5834b74b7302b7f36745c7b1}{angles\+To\+Counts}} (float angle)
\begin{DoxyCompactList}\small\item\em Helper function that converts an angle degrees into counts. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Encoder header. 

This file contains the encoder functions

\begin{DoxyAuthor}{Author}
Benjamen Lim 

Huan Weng 

Blake Strebel 
\end{DoxyAuthor}


\subsection{Function Documentation}
\mbox{\Hypertarget{_encoder_8h_a9e427f3b5834b74b7302b7f36745c7b1}\label{_encoder_8h_a9e427f3b5834b74b7302b7f36745c7b1}} 
\index{Encoder.\+h@{Encoder.\+h}!angles\+To\+Counts@{angles\+To\+Counts}}
\index{angles\+To\+Counts@{angles\+To\+Counts}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{angles\+To\+Counts()}{anglesToCounts()}}
{\footnotesize\ttfamily int angles\+To\+Counts (\begin{DoxyParamCaption}\item[{float}]{angle }\end{DoxyParamCaption})}



Helper function that converts an angle degrees into counts. 


\begin{DoxyParams}{Parameters}
{\em float} & angle in degrees \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int counts 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_aa027163ba1e9951d437f3f4e260fd9bb}\label{_encoder_8h_aa027163ba1e9951d437f3f4e260fd9bb}} 
\index{Encoder.\+h@{Encoder.\+h}!encoder\+Read@{encoder\+Read}}
\index{encoder\+Read@{encoder\+Read}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{encoder\+Read()}{encoderRead()}}
{\footnotesize\ttfamily void encoder\+Read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Updates value in sensor array. 

This function sends a \textquotesingle{}s\textquotesingle{} and 40 pulses via S\+PI to the encoder and reads out the encoder\textquotesingle{}s reply to the encoder\+Val array.


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void
\end{DoxyReturn}
This function reads both encoder counts and stores them in an array

Comes after\+: spi\+Init();

Writes to\+: encoder\+Val array

T\+O\+DO\+: check the delay \mbox{\Hypertarget{_encoder_8h_ac31d94de099e13aa63766f6efe386aba}\label{_encoder_8h_ac31d94de099e13aa63766f6efe386aba}} 
\index{Encoder.\+h@{Encoder.\+h}!encoder\+S\+P\+I\+Init@{encoder\+S\+P\+I\+Init}}
\index{encoder\+S\+P\+I\+Init@{encoder\+S\+P\+I\+Init}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{encoder\+S\+P\+I\+Init()}{encoderSPIInit()}}
{\footnotesize\ttfamily void encoder\+S\+P\+I\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initializes the S\+PI channels for the motor drivers, encoders, and R\+AM. 

Initializes S\+S\+I1 $\sim$ 4 and their corresponding G\+P\+IO pins


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_a3158f6a637c9f6e10084501a81431581}\label{_encoder_8h_a3158f6a637c9f6e10084501a81431581}} 
\index{Encoder.\+h@{Encoder.\+h}!read\+Motor1\+Angle@{read\+Motor1\+Angle}}
\index{read\+Motor1\+Angle@{read\+Motor1\+Angle}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{read\+Motor1\+Angle()}{readMotor1Angle()}}
{\footnotesize\ttfamily float read\+Motor1\+Angle (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads value in encoder\+Val array for motor 1 and converts it to an angle. 


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The angle as a float 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_adadde057f0a039eba73600bd55a68048}\label{_encoder_8h_adadde057f0a039eba73600bd55a68048}} 
\index{Encoder.\+h@{Encoder.\+h}!read\+Motor1\+Angle\+Relative@{read\+Motor1\+Angle\+Relative}}
\index{read\+Motor1\+Angle\+Relative@{read\+Motor1\+Angle\+Relative}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{read\+Motor1\+Angle\+Relative()}{readMotor1AngleRelative()}}
{\footnotesize\ttfamily float read\+Motor1\+Angle\+Relative (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads value in encoder\+Val array for motor 1 and keeps track of multiturn angles. 

This function reads out the angle and keeps track of it for multiple turns.


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The angle as an int 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_a41631dbb83071f47c7e30a38b05f269c}\label{_encoder_8h_a41631dbb83071f47c7e30a38b05f269c}} 
\index{Encoder.\+h@{Encoder.\+h}!read\+Motor1\+Raw@{read\+Motor1\+Raw}}
\index{read\+Motor1\+Raw@{read\+Motor1\+Raw}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{read\+Motor1\+Raw()}{readMotor1Raw()}}
{\footnotesize\ttfamily int read\+Motor1\+Raw (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads value in encoder\+Val array for motor 1. 

The range for the read angle is 0 to 16383

Example\+: \begin{DoxyVerb}encoderRead();
int current_position = readMotor1Raw();
\end{DoxyVerb}



\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The angle as an int 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_a6c979bc3fe5ea8aff136af160338640f}\label{_encoder_8h_a6c979bc3fe5ea8aff136af160338640f}} 
\index{Encoder.\+h@{Encoder.\+h}!read\+Motor1\+Raw\+Relative@{read\+Motor1\+Raw\+Relative}}
\index{read\+Motor1\+Raw\+Relative@{read\+Motor1\+Raw\+Relative}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{read\+Motor1\+Raw\+Relative()}{readMotor1RawRelative()}}
{\footnotesize\ttfamily int read\+Motor1\+Raw\+Relative (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads value in encoder\+Val array for motor 1 and keeps track of multiturn counts. 

This function reads out the angle and keeps track of it for multiple turns. The value ranges from -\/2,147,483,648 to 2,147,483,648. Each turn is 16383 counts


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The counts as an int 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_a32d76f5feb48e875eddaa9c1dbd19276}\label{_encoder_8h_a32d76f5feb48e875eddaa9c1dbd19276}} 
\index{Encoder.\+h@{Encoder.\+h}!read\+Motor1\+Speed@{read\+Motor1\+Speed}}
\index{read\+Motor1\+Speed@{read\+Motor1\+Speed}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{read\+Motor1\+Speed()}{readMotor1Speed()}}
{\footnotesize\ttfamily float read\+Motor1\+Speed (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads the motor 2\textquotesingle{}s speed in terms of revolutions/sec from the encoder. 


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
float the speed of the motor in rev/s 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_acf5c46f542d35b78a92a1cefac802888}\label{_encoder_8h_acf5c46f542d35b78a92a1cefac802888}} 
\index{Encoder.\+h@{Encoder.\+h}!read\+Motor2\+Angle@{read\+Motor2\+Angle}}
\index{read\+Motor2\+Angle@{read\+Motor2\+Angle}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{read\+Motor2\+Angle()}{readMotor2Angle()}}
{\footnotesize\ttfamily float read\+Motor2\+Angle (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads value in encoder\+Val array for motor 2 and converts it to an angle. 


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The angle as a float 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_a8277b1c9a143a978685671b1a0c7f90d}\label{_encoder_8h_a8277b1c9a143a978685671b1a0c7f90d}} 
\index{Encoder.\+h@{Encoder.\+h}!read\+Motor2\+Angle\+Relative@{read\+Motor2\+Angle\+Relative}}
\index{read\+Motor2\+Angle\+Relative@{read\+Motor2\+Angle\+Relative}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{read\+Motor2\+Angle\+Relative()}{readMotor2AngleRelative()}}
{\footnotesize\ttfamily float read\+Motor2\+Angle\+Relative (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads value in encoder\+Val array for motor 2 and keeps track of multiturn angles. 

This function reads out the angle and keeps track of it for multiple turns.


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The angle as an int 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_ad2f5f86641346f94615d9962f214438a}\label{_encoder_8h_ad2f5f86641346f94615d9962f214438a}} 
\index{Encoder.\+h@{Encoder.\+h}!read\+Motor2\+Raw@{read\+Motor2\+Raw}}
\index{read\+Motor2\+Raw@{read\+Motor2\+Raw}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{read\+Motor2\+Raw()}{readMotor2Raw()}}
{\footnotesize\ttfamily int read\+Motor2\+Raw (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads value in encoder\+Val array for motor 2. 

The range for the read angle is 0 to 16383


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The angle as an int 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_a64bdccf53dabc69d335d5e7d53e5b31a}\label{_encoder_8h_a64bdccf53dabc69d335d5e7d53e5b31a}} 
\index{Encoder.\+h@{Encoder.\+h}!read\+Motor2\+Raw\+Relative@{read\+Motor2\+Raw\+Relative}}
\index{read\+Motor2\+Raw\+Relative@{read\+Motor2\+Raw\+Relative}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{read\+Motor2\+Raw\+Relative()}{readMotor2RawRelative()}}
{\footnotesize\ttfamily int read\+Motor2\+Raw\+Relative (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads value in encoder\+Val array for motor 2 and keeps track of multiturn counts. 

This function reads out the angle and keeps track of it for multiple turns. The value ranges from -\/2,147,483,648 to 2,147,483,648


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The counts as an int 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_a6391115b4eaa017554396e9c0bd81ac4}\label{_encoder_8h_a6391115b4eaa017554396e9c0bd81ac4}} 
\index{Encoder.\+h@{Encoder.\+h}!read\+Motor2\+Speed@{read\+Motor2\+Speed}}
\index{read\+Motor2\+Speed@{read\+Motor2\+Speed}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{read\+Motor2\+Speed()}{readMotor2Speed()}}
{\footnotesize\ttfamily float read\+Motor2\+Speed (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads the motor 1\textquotesingle{}s speed in terms of revolutions/sec from the encoder. 


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
float the speed of the motor in rev/s 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_a7b6b3e45ebeda6eaf3c33f3f382c75d9}\label{_encoder_8h_a7b6b3e45ebeda6eaf3c33f3f382c75d9}} 
\index{Encoder.\+h@{Encoder.\+h}!zero\+Motor1\+Raw\+Relative@{zero\+Motor1\+Raw\+Relative}}
\index{zero\+Motor1\+Raw\+Relative@{zero\+Motor1\+Raw\+Relative}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{zero\+Motor1\+Raw\+Relative()}{zeroMotor1RawRelative()}}
{\footnotesize\ttfamily void zero\+Motor1\+Raw\+Relative (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads value of motor 1 encoders and sets the relative angle to zero. 


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{_encoder_8h_a045a541e3983985681e94f5658dff5e4}\label{_encoder_8h_a045a541e3983985681e94f5658dff5e4}} 
\index{Encoder.\+h@{Encoder.\+h}!zero\+Motor2\+Raw\+Relative@{zero\+Motor2\+Raw\+Relative}}
\index{zero\+Motor2\+Raw\+Relative@{zero\+Motor2\+Raw\+Relative}!Encoder.\+h@{Encoder.\+h}}
\subsubsection{\texorpdfstring{zero\+Motor2\+Raw\+Relative()}{zeroMotor2RawRelative()}}
{\footnotesize\ttfamily void zero\+Motor2\+Raw\+Relative (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads value of motor 2 encoders and sets the relative angle to zero. 


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The angle as a float 
\end{DoxyReturn}
