\hypertarget{r2r_8c}{}\section{C\+:/\+Users/\+Ben/\+Documents/\+Git\+Hub/2\+R-\/\+Robots/\+Code/\+Tiva/r2r.c File Reference}
\label{r2r_8c}\index{C\+:/\+Users/\+Ben/\+Documents/\+Git\+Hub/2\+R-\/\+Robots/\+Code/\+Tiva/r2r.\+c@{C\+:/\+Users/\+Ben/\+Documents/\+Git\+Hub/2\+R-\/\+Robots/\+Code/\+Tiva/r2r.\+c}}


Main R2R library.  


{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdarg.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include \char`\"{}inc/hw\+\_\+ints.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}inc/hw\+\_\+memmap.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}inc/hw\+\_\+sysctl.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}inc/hw\+\_\+types.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}inc/hw\+\_\+i2c.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}inc/hw\+\_\+gpio.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/fpu.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/ssi.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/pwm.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/gpio.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/pin\+\_\+map.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/rom.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/rom\+\_\+map.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/debug.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/timer.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/interrupt.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/i2c.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/uart.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}driverlib/sysctl.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}r2r.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Encoder.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Motor.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Position\+Control.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Current\+Control.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Utilities.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{r2r_8c_af06127bca89306e7f9af0ea36f162ca0}{r2r\+Default\+Init}} (void)
\begin{DoxyCompactList}\small\item\em Initializes the default connections for the R2R project. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{r2r_8c_a9708de954e135b89af84d9d82b552667}{sys\+Init}} (void)
\begin{DoxyCompactList}\small\item\em Initializes the system clock and the master interrupts for the R2R project. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{r2r_8c_a09a7a9ed4194733a7b753c3b795b1734}{uart\+Init}} (void)
\begin{DoxyCompactList}\small\item\em Initializes the U\+A\+RT for 115200 Baud Rate and 8-\/\+N-\/1 transfer rate. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{r2r_8c_acd1ca90dcd2d241c90316f670dfcc2eb}{U\+A\+R\+T0read}} (char $\ast$message, int max\+Length)
\begin{DoxyCompactList}\small\item\em Reads input from U\+A\+RT. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{r2r_8c_aba58039e2e0b55260a188aedbc87d18b}{U\+A\+R\+T0write}} (const char $\ast$string)
\begin{DoxyCompactList}\small\item\em Writes output from U\+A\+RT. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{r2r_8c_ab0b86e69a6c13e01349840d66db0f1f3}{delay\+MS}} (int ms)
\begin{DoxyCompactList}\small\item\em Stops the processor for a given amount of time. This is an approximate time. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{r2r_8c_a71d8cd0543a53d2e61cd31c54f8ca35b}{time\+Init}} ()
\begin{DoxyCompactList}\small\item\em Initializes the general purpose systick timer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{r2r_8c_a75d32aeef7c6fd79ccd8eeee9a9c29ca}{time\+Int}} ()
\begin{DoxyCompactList}\small\item\em The general purpose timer interrupt function. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{r2r_8c_a28c11ac72f44462ab5684a9bf4fae0d9}{get\+Time}} ()
\begin{DoxyCompactList}\small\item\em Returns the time in microseconds. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Main R2R library. 

This file contains system functions for the R2R Project, including functions related to system initializations, U\+A\+RT, and debugging.

\begin{DoxyAuthor}{Author}
Benjamen Lim 

Huan Weng 
\end{DoxyAuthor}


\subsection{Function Documentation}
\mbox{\Hypertarget{r2r_8c_ab0b86e69a6c13e01349840d66db0f1f3}\label{r2r_8c_ab0b86e69a6c13e01349840d66db0f1f3}} 
\index{r2r.\+c@{r2r.\+c}!delay\+MS@{delay\+MS}}
\index{delay\+MS@{delay\+MS}!r2r.\+c@{r2r.\+c}}
\subsubsection{\texorpdfstring{delay\+M\+S()}{delayMS()}}
{\footnotesize\ttfamily void delay\+MS (\begin{DoxyParamCaption}\item[{int}]{ms }\end{DoxyParamCaption})}



Stops the processor for a given amount of time. This is an approximate time. 


\begin{DoxyParams}{Parameters}
{\em ms} & milliseconds \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{r2r_8c_a28c11ac72f44462ab5684a9bf4fae0d9}\label{r2r_8c_a28c11ac72f44462ab5684a9bf4fae0d9}} 
\index{r2r.\+c@{r2r.\+c}!get\+Time@{get\+Time}}
\index{get\+Time@{get\+Time}!r2r.\+c@{r2r.\+c}}
\subsubsection{\texorpdfstring{get\+Time()}{getTime()}}
{\footnotesize\ttfamily uint32\+\_\+t get\+Time (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Returns the time in microseconds. 

This function can be used for delays as an alternative to \mbox{\hyperlink{r2r_8h_ab0b86e69a6c13e01349840d66db0f1f3}{delay\+M\+S()}} because it is interrupt-\/based.

Example\+: \begin{DoxyVerb}    uint32_t curr_time = getTime();
...
uint32_t time_taken = getTime()-curr_time;
\end{DoxyVerb}



\begin{DoxyParams}{Parameters}
{\em us} & microseconds \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{r2r_8c_af06127bca89306e7f9af0ea36f162ca0}\label{r2r_8c_af06127bca89306e7f9af0ea36f162ca0}} 
\index{r2r.\+c@{r2r.\+c}!r2r\+Default\+Init@{r2r\+Default\+Init}}
\index{r2r\+Default\+Init@{r2r\+Default\+Init}!r2r.\+c@{r2r.\+c}}
\subsubsection{\texorpdfstring{r2r\+Default\+Init()}{r2rDefaultInit()}}
{\footnotesize\ttfamily void r2r\+Default\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initializes the default connections for the R2R project. 

This function initializes all peripherals and G\+P\+IO pins. This function only needs to be called in main once.

Example\+: \begin{DoxyVerb}int main() {
    r2rDefaultInit();
}
\end{DoxyVerb}



\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{r2r_8c_a9708de954e135b89af84d9d82b552667}\label{r2r_8c_a9708de954e135b89af84d9d82b552667}} 
\index{r2r.\+c@{r2r.\+c}!sys\+Init@{sys\+Init}}
\index{sys\+Init@{sys\+Init}!r2r.\+c@{r2r.\+c}}
\subsubsection{\texorpdfstring{sys\+Init()}{sysInit()}}
{\footnotesize\ttfamily void sys\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initializes the system clock and the master interrupts for the R2R project. 


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{r2r_8c_a71d8cd0543a53d2e61cd31c54f8ca35b}\label{r2r_8c_a71d8cd0543a53d2e61cd31c54f8ca35b}} 
\index{r2r.\+c@{r2r.\+c}!time\+Init@{time\+Init}}
\index{time\+Init@{time\+Init}!r2r.\+c@{r2r.\+c}}
\subsubsection{\texorpdfstring{time\+Init()}{timeInit()}}
{\footnotesize\ttfamily void time\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initializes the general purpose systick timer. 


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{r2r_8c_a75d32aeef7c6fd79ccd8eeee9a9c29ca}\label{r2r_8c_a75d32aeef7c6fd79ccd8eeee9a9c29ca}} 
\index{r2r.\+c@{r2r.\+c}!time\+Int@{time\+Int}}
\index{time\+Int@{time\+Int}!r2r.\+c@{r2r.\+c}}
\subsubsection{\texorpdfstring{time\+Int()}{timeInt()}}
{\footnotesize\ttfamily void time\+Int (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



The general purpose timer interrupt function. 

This function is called every microsecond and updates a counter.


\begin{DoxyParams}{Parameters}
{\em ms} & milliseconds \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{r2r_8c_acd1ca90dcd2d241c90316f670dfcc2eb}\label{r2r_8c_acd1ca90dcd2d241c90316f670dfcc2eb}} 
\index{r2r.\+c@{r2r.\+c}!U\+A\+R\+T0read@{U\+A\+R\+T0read}}
\index{U\+A\+R\+T0read@{U\+A\+R\+T0read}!r2r.\+c@{r2r.\+c}}
\subsubsection{\texorpdfstring{U\+A\+R\+T0read()}{UART0read()}}
{\footnotesize\ttfamily void U\+A\+R\+T0read (\begin{DoxyParamCaption}\item[{char $\ast$}]{message,  }\item[{int}]{max\+Length }\end{DoxyParamCaption})}



Reads input from U\+A\+RT. 


\begin{DoxyParams}{Parameters}
{\em char$\ast$} & message pointer to a buffer \\
\hline
{\em int} & max\+Length the maximum length of the buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{r2r_8c_aba58039e2e0b55260a188aedbc87d18b}\label{r2r_8c_aba58039e2e0b55260a188aedbc87d18b}} 
\index{r2r.\+c@{r2r.\+c}!U\+A\+R\+T0write@{U\+A\+R\+T0write}}
\index{U\+A\+R\+T0write@{U\+A\+R\+T0write}!r2r.\+c@{r2r.\+c}}
\subsubsection{\texorpdfstring{U\+A\+R\+T0write()}{UART0write()}}
{\footnotesize\ttfamily void U\+A\+R\+T0write (\begin{DoxyParamCaption}\item[{const char $\ast$}]{string }\end{DoxyParamCaption})}



Writes output from U\+A\+RT. 


\begin{DoxyParams}{Parameters}
{\em const} & char$\ast$ message pointer to a buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{r2r_8c_a09a7a9ed4194733a7b753c3b795b1734}\label{r2r_8c_a09a7a9ed4194733a7b753c3b795b1734}} 
\index{r2r.\+c@{r2r.\+c}!uart\+Init@{uart\+Init}}
\index{uart\+Init@{uart\+Init}!r2r.\+c@{r2r.\+c}}
\subsubsection{\texorpdfstring{uart\+Init()}{uartInit()}}
{\footnotesize\ttfamily void uart\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initializes the U\+A\+RT for 115200 Baud Rate and 8-\/\+N-\/1 transfer rate. 


\begin{DoxyParams}{Parameters}
{\em Void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
